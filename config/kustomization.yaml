apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- certprovider/letsencrypt-production.yaml
- certprovider/letsencrypt-staging.yaml
- cloud-generic.yaml
- deployments/alarm-service.yaml
- deployments/client-bridge.yaml
- deployments/driver-services.yaml
- deployments/history-service.yaml
- deployments/hub-bridge.yaml
- deployments/ivr-callback-server.yaml
- deployments/notification-services.yaml
- deployments/platform-services.yaml
- deployments/rule-service.yaml
- deployments/scheduler-service.yaml
- deployments/static-server.yaml
- deployments/subsystem-service.yaml
- deployments/ui-server.yaml
- destinationrules/cassandra.yaml
- destinationrules/zookeeper.yaml
- istio/apple.yaml
- istio/sendgrid.yaml
- istio/smartystreets.yaml
- istio/twilio.yaml
- service/cassandra.yaml
- service/client-bridge.yaml
- service/hub-bridge.yaml
- service/ivr-callback-server.yaml
- service/kafka.yaml
- service/static-service.yaml
- service/ui-service-ingress.yaml
- service/ui-service.yaml
- service/tcp-services.yaml
- service/zookeeper.yaml
- configmaps/arcus-config.yaml
- configmaps/cluster-config.yaml
- clusterrole.yaml
- cronjob/hub-keystore-renewal.yaml
- stateful/prometheus.yaml
- stateful/loki.yaml
- logging/alloy.yaml
- service/grafana.yaml
- service/prometheus.yaml

configMapGenerator:
- name: grafana-dashboards
  files:
  - dashboards/arcus-overview.json
  - dashboards/arcus-platform.json
- name: grafana-datasources
  files:
  - grafana/datasources.yaml
- name: grafana-alerting
  files:
  - grafana/alerting.yaml
- name: grafana-dashboards-provider
  files:
  - grafana/dashboards.yaml
- name: prometheus-config
  files:
  - extrafiles/prometheus.yaml
- name: loki-config
  files:
  - extrafiles/loki.yaml

images:
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/client-bridge
  newTag: 2019.10.0
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/driver-services
  newTag: 2019.10.0
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/subsystem-service
  newTag: 2019.10.0
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/hub-bridge
  newTag: 2019.10.0
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/history-service
  newTag: 2019.10.0
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/scheduler-service
  newTag: 2019.10.0
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/platform-services
  newTag: 2019.10.0

- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/zookeeper
  newTag: latest

- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/rule-service
  newTag: 2019.10.0
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/ivr-callback-server
  newTag: 2019.10.0
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/alarm-service
  newTag: 2019.10.0
- name: us-west1-docker.pkg.dev/arcus-238802/arcus-prod/arcus/notification-services
  newTag: 2019.10.0

